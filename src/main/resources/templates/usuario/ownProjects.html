<div class="container">
	<div class="row mb-4 ml-1">
		<div class="">
			<h1 class="font-weight-light">Mis proyectos</h1>
		</div>
	</div>
</div>

<!--******************************HEADER para página SIN proyectos*******************************-->
<header class="py-4" th:if="${proyectosCreados.isEmpty() && proyectosPertenece.isEmpty()}">
	<div class="container px-lg-5">
    	<div class="jumbotron p-4 p-lg-5 text-center">
            <div class="m-4 m-lg-5">
                <h1 class="display-5 fw-bold" th:text="|¡Hola ${usuario.nombre}!|"></h1>
                <p class="fs-4">¡Bienvenid@ a tu página de proyectos!</p>
                <p class="lead">Desde aquí podrás consultar la información general de los proyectos a los que perteneces y que has creado. Podrás acceder a cada uno de ellos para ponerte en contacto con tus compañeros o gestionar los datos de tu propio equipo.</p>
                <p class="fs-4">Por ahora esto está un poco desierto, pero ¡no te preocupes!</p>
                <div class="d-flex justify-content-center">
	                <a class="btn btn-info m-3 col-4" href="/">Revisa los proyectos ya creados</a>
	                <span class="align-self-center text-center"> - o - </span>
	                <a class="btn btn-info m-3 col-4" href="/proyecto/c">Crea tu propio proyecto</a>
                </div>
            </div>
        </div>
    </div>
</header>
<!--***********************************************************************************************-->

<!--*******************HEADER para página sin proyectos liderados pero si unido********************-->
<header class="py-4" th:if="${proyectosCreados.isEmpty() && !proyectosPertenece.isEmpty()}">
	<div class="container px-lg-5">
    	<div class="jumbotron p-4 p-lg-5 text-center">
            <div class="m-4 m-lg-5">
                <h1 class="display-5 fw-bold" th:text="|¡Hola ${usuario.nombre}!|"></h1>
                <p class="fs-4">¡Bienvenid@ a tu página de proyectos!</p>
                <p class="lead">En este apartado aparecerán los proyectos que vayas creando para que puedas consultar su información general y acceder su página para revisarla o gestionar sus datos.</p>
                <p class="fs-4">Sólo tienes que darle forma a tus ideas creando un nuevo proyecto.</p>
                <div class="d-flex justify-content-center">
	                <a class="btn btn-info m-3 col-4" href="/proyecto/c">Crea tu propio proyecto</a>
                </div>
            </div>
        </div>
    </div>
</header>
<!--***********************************************************************************************-->

<!--*******************************Cards para proyectos liderados*************************************-->
<div class="container p-4" th:if="${!proyectosCreados.isEmpty()}">
	<div>
		<h3 class="font-weight-light">Los que tú has creado:</h3>
	</div>
	<hr class="mb-3">

	<section class="row">
		<th:block class="contenedorCards" th:each="proyectoCreado : ${proyectosCreados}">
			<div class="d-flex align-items-stretch col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
				<div class="card border-0 py-4 px-4 my-4 mx-3 cartaJumboPropios w-100">
					<div class="card-body">
						<h2 class="display-5" th:text="${proyectoCreado.nombre}" />
							
						<hr class="my-4">
						<p class="lead" th:text="${proyectoCreado.descripcion}" />
						<div class="d-flex justify-content-between my-4">
							<div class="masDatos align-self-center">
								<label class="d-block" th:text="|Nº de puestos ${proyectoCreado.puestos?.size}|"></label>
							</div>
							<div class="masDatos align-self-center text-right">
								<span class="d-flex flex-nowrap disabled font-weight-light d-block" th:text="|Inicio: ${proyectoCreado.inicio}|" disabled />
								<span class="d-flex flex-nowrap disabled font-weight-light d-block" th:text="|Fin: ${proyectoCreado.fin}|" disabled />
							</div>
						</div>
						<div class="d-flex justify-content-end">
							<form action="/proyecto/verProyecto" class="d-inline">
								<input type="hidden" name="idProyecto" th:value="${proyectoCreado.id}" />
								<button type="submit" class="btn btn-outline-info btn-sm mr-2">
									Ver proyecto
								</button>
							</form>
							<form action="/proyecto/tuProyecto" class="d-inline">
								<input type="submit" value="Gestionar proyecto"
									class="btn btn-outline-info btn-sm" />
								<input type="hidden" name="idProyecto" th:value="${proyectoCreado.id}" />
							</form>
						</div>
					</div>
				</div>
			</div>
		</th:block>
	</section>
</div>
<!--***********************************************************************************************-->

<div class="container px-4">
	<h3 class="font-weight-light">A los que te has unido:</h3>
	<hr class="mb-3">
	
	
	<!--*******************HEADER para página CON proyectos liderados y SIN unidos********************-->
	<header class="" th:if="${!proyectosCreados.isEmpty() && proyectosPertenece.isEmpty()}">
		<div class="container px-lg-5">
	    	<div class="jumbotron p-4 p-lg-5 text-center">
	            <div class="m-4 m-lg-5">
	                <h1 class="display-5 fw-bold"><i class="bi bi-emoji-neutral"></i> Ups...</h1>
	                <p class="lead" th:text="|${usuario.nombre}, parece que sólo perteneces a proyectos creados por tí.|"></p>
	                <p class="">¡Pero eso no es malo!</p>
	                <p class="lead">Sólo recuerda que todos los proyectos a los que te unas aparecerán en este apartado para que consultes su información general y puedas acceder a su página principal de forma sencilla.</p>
	                <div class="d-flex justify-content-center">
		                <a class="btn btn-info m-3 col-4" href="/">Revisa los proyectos ya creados</a>
	                </div>
	            </div>
	        </div>
	    </div>
	</header>
	<!--***********************************************************************************************-->

</div>

<!--*************************Cards para proyectos a los que pertenece*******************************-->
<div class="container px-4" th:if="${!proyectosPertenece.isEmpty()}">

	<section class="row">
		<th:block class="contenedorCards" th:each="proyectoPertenece : ${proyectosPertenece}">
			<div class="d-flex align-items-stretch col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
				<div class="card border-0 py-4 px-4 my-4 mx-3 cartaJumbo w-100">
					<div class="card-body">
						<h2 class="display-5" th:text="${proyectoPertenece.proyecto.nombre}" />
							
						<hr class="my-4">
						<label class="d-block" th:text="${proyectoPertenece.nombre}"></label>
						<p class="lead" th:text="${proyectoPertenece.descripcion}" />
						<label class="d-block" th:text="|Líder del proyecto: ${proyectoPertenece.proyecto.leader.nombre}|"></label>
						<div class="d-flex justify-content-end">
							<form action="/proyecto/verProyecto" class="d-inline">
								<input type="hidden" name="idProyecto" th:value="${proyectoPertenece.proyecto.id}" />
								<button type="submit" class="btn btn-outline-info btn-sm mr-2">
									Ver proyecto
								</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</th:block>
	</section>
</div>
<!--***********************************************************************************************-->



				<!--PUEDE SERVIR PARA EL NÚMERO DE PUESTOS LIBRES / OCUPADOS EN LAS CARDS DE LIDERADOS
				<th:block th:if="${proyectoCreado.puestos.size != 0}">
					<td>
						<ul th:each="puesto : ${proyectoCreado.puestos}">
							<li th:text="${puesto.nombre}" />
						</ul>
					</td>
					<td>
						<ul th:each="puesto : ${proyectoCreado.puestos}">
						 	<li
								th:if="${puesto.ocupante?.nombre != null}" 
								th:text="${puesto.ocupante.nombre}">
							</li>
							<li th:unless="${puesto.ocupante?.nombre != null}">Libre</li>
						</ul>
					</td>
				</th:block>
				<th:block th:unless="${proyectoCreado.puestos.size != 0}">
					<td  colspan="2" class="text-center">Sin puestos creados</th>
				</th:block>
				**************************************************************************************-->
	    

<script src="/js/misProyectos.js"></script>